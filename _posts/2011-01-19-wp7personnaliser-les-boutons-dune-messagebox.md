---
layout: post
title: WP7–Personnaliser les boutons d’une MessageBox
slug: wp7personnaliser-les-boutons-dune-messagebox
date: 2011-01-19 06:26:00Z
---

<p>Petite astuce : Le SDK Silverlight fournit un très utile MessageBox.Show(), vous permettant d’afficher une ..Message Box :). Cependant, la personnalisation des boutons est très limitée : C’est soit “Ok”, soit “ok” et “Annuler”.</p>  <p align="center"><a href="http://blog.maneu.org/wp-content/uploads/2011/01/WP7SP-0042.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WP7SP-0042" border="0" alt="WP7SP-0042" src="http://blog.maneu.org/wp-content/uploads/2011/01/WP7SP-0042_thumb.png" width="230" height="387" /></a><a href="http://blog.maneu.org/wp-content/uploads/2011/01/WP7SP-0043.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WP7SP-0043" border="0" alt="WP7SP-0043" src="http://blog.maneu.org/wp-content/uploads/2011/01/WP7SP-0043_thumb.png" width="230" height="387" /></a></p>  <p>&#160;</p>  <p>Mais comment la personnaliser un peu plus ? Comment, par exemple, afficher autre chose que “Ok” ?</p>  <p>Alors bon, oui, on peut s’amuser à se recoder un contrôle maison, a l’intégrer comme il faut à notre page, mais, il y a peut-être une autre solution….du côté de XNA.</p>  <p>En effet, il est possible d’afficher dans les applications XNA des “MessageBox”, mais le fonctionnement n’est pas le même. C’est en effet à vous de préciser le titre, le message <strong>et le texte des boutons</strong>.</p>  <p><a href="http://blog.maneu.org/wp-content/uploads/2011/01/WP7SP-0044.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WP7SP-0044" border="0" alt="WP7SP-0044" src="http://blog.maneu.org/wp-content/uploads/2011/01/WP7SP-0044_thumb.png" width="290" height="492" /></a></p>  <p>Pour cela, c’est la classe Guide du XNA.GamerServices qu’il faudra utiliser. Le fonctionnement est légèrement différent de celui de la MessageBox. Il faut tout d’abord appeler BeginShowMessageBox.</p> <code>Guide.BeginShowMessageBox(&quot;Licence d'utilisation&quot;, &quot;Vous devez accepter le contrat d'utilisation du logiciel (disponible sur maneu.net) avant de pouvoir utiliser ce logiciel. L'acceptez-vous ?&quot;, new string[] { &quot;Accepter&quot;, &quot;Refuser&quot; }, 0, MessageBoxIcon.Alert, MessageBoxAcceptLicense, null); </code>  <p>Ensuite, il vous faudra récupérer le résultat comme ceci :</p> <code>private void MessageBoxAcceptLicense(IAsyncResult ar) { int? indexButton = Guide.EndShowMessageBox(ar); if (indexButton.HasValue &amp;&amp; indexButton.Value == 1) { Dispatcher.BeginInvoke(() =&gt; new Game().Exit()); } } </code>  <p>&#160;</p>  <p>Bien évidemment, si vos besoins sont plus complexes, il vous faudra créer votre propre contrôle :)</p>  <p>&#160;</p>  <p><strong><a href="https://bitbucket.org/christophermaneu/wp7codeshare/downloads/WP7MessageBox.zip">Téléchargez le code d’exemple</a>.</strong></p>
